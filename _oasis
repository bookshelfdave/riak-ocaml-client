OASISFormat: 0.3
Name:        riak
Version:     0.9
Synopsis:    Riak OCaml Client
Copyrights:  (C) 2012 Dave Parfitt, (C) 2012 Basho Technologies
Authors:     Dave Parfitt
License:     Apache-2.0
BuildTools: ocamlbuild
Plugins:     META (0.3), DevFiles (0.3)
PreBuildCommand: make -C riakhttp

Library riak
  Path:       src
  BuildTools: ocamlbuild
  FindlibName: riak
  Modules:    Riak
  BuildDepends: unix, piqi.runtime, riak-pb

Executable test
  Path:         test
  BuildTools:   ocamlbuild
  MainIs:       test.ml
  BuildDepends: unix, piqi.runtime, oUnit, riak
  Install:      false
  Build$:       flag(tests)

Executable httptest
  Path:         riakhttp
  BuildTools:   ocamlbuild
  MainIs:       riak_http.ml
  BuildDepends: curl, unix, piqi.lib, piqi.runtime, oUnit, riak
  Install:      false

Test main
  Run$:    flag(tests)
  Command: $test
